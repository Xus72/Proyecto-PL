programa: variables subprogramas instrucciones

variables: VARIABLES (decl_vars)*

decl_vars : vars DP tipo

tipo: NUM | LOG | SEQ PA tipo PC

vars: IDENT (COMA vars)?

subprogramas: SUBPROGRAMA (subprograma)*

subprograma: funcion | procedimiento

funcion: FUNCION nombre_funcion PA (tipo variable)* PC DEV PA (tipo variable)* PC variables instrucciones

nombre_funcion: IDENT

variable: IDENT

procedimiento: PROCEDIMIENTO nombre_procedimiento PA PC
    | PROCEDIMIENTO nombre_procedimiento PA (tipo variable)* PC variables instrucciones

instrucciones: INSTRUCCIONES (instruccion)*

instruccion: asignacion | condicional | iteracion | ruptura | llamada_funcion | llamada_procedimiento | devolucion | mostrar | aserto

asignacion : variable ASIG expr PyC
    | vars ASIG llamada_funcion PyC
    | vars ASIG llamada_procedimiento PyC

condicional: condicion bloque

condicion: SI PA expr PC ENTONCES bloque FSI
    | SI PA expr PC ENTONCES bloque SINO bloque FSI

bloque: variable ASIG expr

iteracion: (asignacion)* MIENTRAS condicional iteracion FMIENTRAS

llamada_funcion: NOMBRE_FUNCION PA expr PC

llamada_procedimiento: NOMBRE_PROCEDIMIENTO PA expr PC

mostrar: MOSTRAR PA variable PC

aserto: LLA cuantificador LLC

ruptura: RUPTURA PyC

expr: expr_numerica
    | expr_booleana
    | expr_secuencia
    | variable

expr_numerica: NUMERO
    | expr (MAS | MENOS | MULTI) expr
    | variable

expr_booleana: expr (MAYOR | MAYORIGUAL | MENOR | MENORIGUAL | IGUAL) expr
    | expr Y expr
    | expr O expr
    | CIERTO
    | FALSO

expr_secuencia: secuencia_vacia
    | PA seq_elems PC

secuencia_vacia: CA CC

seq_elems: (expr_numerica | expr_booleana | expr_secuencia) (COMA seq_elems)*

cuantificacion: PARATODO variable DP expr
    | EXISTE variable DP expr